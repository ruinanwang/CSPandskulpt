// Generated by CoffeeScript 1.12.4
(function() {
  google.load('visualization', '1.0', {
    packages: ['corechart'],
    callback: function() {
      return $.get(window.location.href + '.json').always(function(response) {
        var chart, data, formatter, options, row, rows;
        rows = (function() {
          var i, len, results;
          results = [];
          for (i = 0, len = response.length; i < len; i++) {
            row = response[i];
            results.push([new Date(Date.parse(row[0])), row[1]]);
          }
          return results;
        })();
        data = new google.visualization.DataTable;
        data.addColumn('date', 'Time');
        data.addColumn('number', 'Score');
        data.addRows(rows);
        formatter = new google.visualization.DateFormat({
          pattern: 'MM/dd/yyyy hh:mm aa'
        });
        formatter.format(data, 0);
        options = {
          vAxis: {
            minValue: 0
          },
          legend: {
            position: 'none'
          },
          chartArea: {
            left: '0%',
            top: '0%',
            width: '100%',
            height: '88%'
          }
        };
        chart = new google.visualization.AreaChart($('#commit-time-chart')[0]);
        return chart.draw(data, options);
      });
    }
  });

}).call(this);
